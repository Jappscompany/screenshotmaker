<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title data-i18n="ollama_tut_meta_title">Ollama Setup Tutorial ‚Äî OCRBook</title>
  <meta name="description" content="" data-i18n-attr="content:ollama_tut_meta_desc" />

  <style>
    :root {
      --bg: #ffffff;
      --panel: #ffffff;
      --fg: #0b1220;
      --muted: #5a647a;
      --border: rgba(15, 23, 42, 0.10);
      --shadow: 0 18px 60px rgba(2, 6, 23, 0.10);
      --accent: #2563eb;
      --accent2: #7c3aed;
      --accentSoft: rgba(37, 99, 235, 0.10);
      --radius: 18px;
      --max: 860px;
      --pad: 22px;
    }

    @media (prefers-color-scheme: dark) {
      :root {
        --bg: #050816;
        --panel: rgba(5, 8, 22, 0.92);
        --fg: #f5f7ff;
        --muted: #a2abc6;
        --border: rgba(148, 163, 184, 0.18);
        --shadow: 0 24px 90px rgba(0, 0, 0, 0.70);
        --accentSoft: rgba(79, 156, 255, 0.12);
        --accent: #4f9cff;
        --accent2: #8a6dff;
      }
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text", sans-serif;
      background:
        radial-gradient(900px 520px at 20% 0%, rgba(37,99,235,0.22), transparent 55%),
        radial-gradient(900px 520px at 80% 0%, rgba(124,58,237,0.18), transparent 55%),
        var(--bg);
      color: var(--fg);
      line-height: 1.7;
    }

    a { color: var(--accent); text-decoration: none; }
    a:hover { text-decoration: underline; }

    .wrap { max-width: var(--max); margin: 0 auto; padding: 20px var(--pad) 48px; }

    header {
      display: flex; align-items: center; justify-content: space-between; gap: 14px;
      padding: 10px 0 24px;
      position: sticky; top: 0;
      background: linear-gradient(to bottom, rgba(255,255,255,0.88), rgba(255,255,255,0));
      backdrop-filter: blur(10px);
    }
    @media (prefers-color-scheme: dark) {
      header { background: linear-gradient(to bottom, rgba(5,8,22,0.88), rgba(5,8,22,0)); }
    }

    .brand { display: flex; align-items: center; gap: 12px; }
    .mark {
      width: 40px; height: 40px; border-radius: 14px;
      background: conic-gradient(from 180deg, var(--accent), var(--accent2), #2df2c8, var(--accent));
      box-shadow: 0 0 28px rgba(37,99,235,0.35);
      display: grid; place-items: center;
      color: #050816; font-weight: 800;
    }
    .brand h1 { font-size: 16px; font-weight: 750; letter-spacing: 0.2px; }

    .lang {
      display: flex; gap: 8px; align-items: center;
      border: 1px solid var(--border); border-radius: 999px; padding: 4px;
      background: rgba(255,255,255,0.55);
    }
    @media (prefers-color-scheme: dark) {
      .lang { background: rgba(10, 16, 34, 0.55); }
    }
    .lang select {
      border: 0; background: transparent; padding: 8px 12px; border-radius: 999px;
      font-size: 13px; color: var(--muted); cursor: pointer; outline: none;
    }
    .lang select:focus { background: var(--accentSoft); color: var(--accent); }
    @media (prefers-color-scheme: dark) {
      .lang select { color: var(--muted); background: transparent; }
      .lang select option { background: var(--panel); color: var(--fg); }
    }

    .card {
      background: var(--panel);
      border: 1px solid var(--border);
      border-radius: calc(var(--radius) + 6px);
      box-shadow: var(--shadow);
      padding: 32px;
    }

    h2 {
      font-size: clamp(24px, 4vw, 32px);
      line-height: 1.2;
      letter-spacing: -0.02em;
      margin-bottom: 10px;
    }

    .hero-sub {
      color: var(--muted);
      font-size: 16px;
      margin-bottom: 28px;
    }

    h3 {
      font-size: 18px;
      margin-top: 32px;
      margin-bottom: 14px;
      color: var(--fg);
      display: flex;
      align-items: center;
      gap: 10px;
    }

    h3 .step-num {
      width: 28px; height: 28px;
      border-radius: 50%;
      background: linear-gradient(135deg, var(--accent), var(--accent2));
      color: #050816;
      font-size: 14px;
      font-weight: 700;
      display: grid;
      place-items: center;
      flex-shrink: 0;
    }

    p {
      margin: 12px 0;
      color: var(--muted);
    }

    code {
      font-family: "SF Mono", "Menlo", "Monaco", monospace;
      font-size: 13px;
      background: var(--accentSoft);
      padding: 2px 8px;
      border-radius: 6px;
      color: var(--accent);
    }

    pre {
      background: rgba(10, 16, 34, 0.08);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 16px;
      overflow-x: auto;
      margin: 14px 0;
    }
    @media (prefers-color-scheme: dark) {
      pre { background: rgba(10, 16, 34, 0.55); }
    }
    pre code {
      background: transparent;
      padding: 0;
      color: var(--fg);
    }

    .tip {
      background: linear-gradient(135deg, rgba(37, 99, 235, 0.08), rgba(124, 58, 237, 0.08));
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 14px 18px;
      margin: 18px 0;
    }
    .tip-title {
      font-weight: 700;
      font-size: 13px;
      color: var(--accent);
      margin-bottom: 6px;
      display: flex;
      align-items: center;
      gap: 6px;
    }
    .tip p { margin: 0; font-size: 14px; }

    .warning {
      background: rgba(234, 179, 8, 0.1);
      border: 1px solid rgba(234, 179, 8, 0.3);
      border-radius: 12px;
      padding: 14px 18px;
      margin: 18px 0;
    }
    .warning-title {
      font-weight: 700;
      font-size: 13px;
      color: #ca8a04;
      margin-bottom: 6px;
      display: flex;
      align-items: center;
      gap: 6px;
    }
    .warning p { margin: 0; font-size: 14px; }

    ul {
      margin: 14px 0;
      padding-left: 24px;
      color: var(--muted);
    }
    li { margin: 8px 0; }

    .model-table {
      width: 100%;
      border-collapse: collapse;
      margin: 14px 0;
      font-size: 14px;
    }
    .model-table th, .model-table td {
      border: 1px solid var(--border);
      padding: 10px 14px;
      text-align: left;
    }
    .model-table th {
      background: var(--accentSoft);
      font-weight: 600;
    }
    .model-table td { color: var(--muted); }

    .back-link {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      font-size: 14px;
      margin-top: 28px;
      padding: 10px 16px;
      border-radius: 999px;
      border: 1px solid var(--border);
      background: rgba(255,255,255,0.55);
      color: var(--fg);
    }
    @media (prefers-color-scheme: dark) {
      .back-link { background: rgba(10, 16, 34, 0.55); }
    }
    .back-link:hover { text-decoration: none; background: var(--accentSoft); color: var(--accent); }

    footer {
      margin-top: 28px;
      padding: 14px 4px 0;
      text-align: center;
      color: var(--muted);
      font-size: 12px;
    }
  </style>
</head>

<body>
  <div class="wrap">
    <header>
      <a href="./index.html" class="brand" style="text-decoration:none; color:inherit;">
        <div class="mark">O</div>
        <div>
          <h1>OCRBook</h1>
        </div>
      </a>

      <div class="lang" aria-label="Language" data-lang-dropdown></div>
    </header>

    <main class="card">
      <h2 data-i18n="ollama_tut_title">ü¶ô Ollama Setup Tutorial</h2>
      <p class="hero-sub" data-i18n="ollama_tut_intro">
        Connect OCRBook to your local Ollama server for AI-powered summarization, translation, and Q&A ‚Äî all without sending data to the cloud.
      </p>

      <!-- What is Ollama -->
      <h3>
        <span class="step-num">1</span>
        <span data-i18n="ollama_tut_what_title">What is Ollama?</span>
      </h3>
      <p data-i18n="ollama_tut_what_body">
        Ollama is a free, open-source tool that lets you run large language models (LLMs) locally on your Mac, Windows, or Linux computer. It provides a simple API that apps like OCRBook can use to access AI features without cloud services.
      </p>

      <!-- Install Ollama -->
      <h3>
        <span class="step-num">2</span>
        <span data-i18n="ollama_tut_install_title">Install Ollama</span>
      </h3>
      <p data-i18n="ollama_tut_install_body">
        Download and install Ollama from the official website:
      </p>
      <p><a href="https://ollama.com/download" target="_blank" rel="noopener">https://ollama.com/download</a></p>
      <ul>
        <li data-i18n="ollama_tut_install_mac"><strong>macOS:</strong> Download the .dmg file and drag Ollama to Applications.</li>
        <li data-i18n="ollama_tut_install_win"><strong>Windows:</strong> Download the installer and follow the setup wizard.</li>
        <li data-i18n="ollama_tut_install_linux"><strong>Linux:</strong> Run <code>curl -fsSL https://ollama.com/install.sh | sh</code> in your terminal.</li>
      </ul>

      <!-- Download a Model -->
      <h3>
        <span class="step-num">3</span>
        <span data-i18n="ollama_tut_model_title">Download a Model</span>
      </h3>
      <p data-i18n="ollama_tut_model_body">
        After installing, open your terminal and pull a model. Here are some recommended options:
      </p>
      <table class="model-table">
        <tr>
          <th data-i18n="ollama_tut_model_th1">Model</th>
          <th data-i18n="ollama_tut_model_th2">Size</th>
          <th data-i18n="ollama_tut_model_th3">Best For</th>
        </tr>
        <tr>
          <td><code>gemma3:4b</code></td>
          <td>~3 GB</td>
          <td data-i18n="ollama_tut_model_gemma3_4b">Fast responses, lightweight tasks</td>
        </tr>
        <tr>
          <td><code>gemma3:12b</code></td>
          <td>~8 GB</td>
          <td data-i18n="ollama_tut_model_gemma3_12b">Balanced speed and quality</td>
        </tr>
        <tr>
          <td><code>gemma3:27b</code></td>
          <td>~17 GB</td>
          <td data-i18n="ollama_tut_model_gemma3_27b">High quality, complex tasks</td>
        </tr>
        <tr>
          <td><code>llama3.2:3b</code></td>
          <td>~2 GB</td>
          <td data-i18n="ollama_tut_model_llama3_3b">Quick summaries, low memory</td>
        </tr>
        <tr>
          <td><code>qwen2.5:7b</code></td>
          <td>~5 GB</td>
          <td data-i18n="ollama_tut_model_qwen">Excellent multilingual support</td>
        </tr>
      </table>
      <p data-i18n="ollama_tut_model_cmd">To download a model, run:</p>
      <pre><code>ollama pull gemma3:12b</code></pre>

      <div class="tip">
        <div class="tip-title">üí° <span data-i18n="ollama_tut_tip_title">Tip</span></div>
        <p data-i18n="ollama_tut_tip_body">
          Start with <code>gemma3:4b</code> or <code>llama3.2:3b</code> if your Mac has 8 GB RAM. For 16 GB+ RAM, try <code>gemma3:12b</code> for better results.
        </p>
      </div>

      <!-- Start the Server -->
      <h3>
        <span class="step-num">4</span>
        <span data-i18n="ollama_tut_start_title">Start the Ollama Server</span>
      </h3>
      <p data-i18n="ollama_tut_start_body">
        On macOS, Ollama starts automatically when you open the app. You can verify it's running by visiting:
      </p>
      <pre><code>http://localhost:11434</code></pre>
      <p data-i18n="ollama_tut_start_check">
        If you see "Ollama is running", you're good to go!
      </p>

      <!-- Enable Network Access -->
      <h3>
        <span class="step-num">5</span>
        <span data-i18n="ollama_tut_network_title">Enable Network Access (for iOS)</span>
      </h3>
      <p data-i18n="ollama_tut_network_body">
        By default, Ollama only listens on localhost. To connect from OCRBook on your iPhone or iPad, you need to expose it to your local network.
      </p>
      <p data-i18n="ollama_tut_network_mac"><strong>On macOS:</strong> Set the environment variable before starting Ollama:</p>
      <pre><code>launchctl setenv OLLAMA_HOST "0.0.0.0"</code></pre>
      <p data-i18n="ollama_tut_network_restart">Then restart the Ollama app.</p>

      <div class="warning">
        <div class="warning-title">‚ö†Ô∏è <span data-i18n="ollama_tut_warning_title">Security Note</span></div>
        <p data-i18n="ollama_tut_warning_body">
          Only enable network access on trusted networks (like your home Wi-Fi). Traffic over plain HTTP is not encrypted. Avoid using public networks.
        </p>
      </div>

      <!-- Configure OCRBook -->
      <h3>
        <span class="step-num">6</span>
        <span data-i18n="ollama_tut_config_title">Configure OCRBook</span>
      </h3>
      <p data-i18n="ollama_tut_config_body">
        In OCRBook, go to <strong>Settings ‚Üí AI Server</strong> and enter your Ollama server URL:
      </p>
      <ul>
        <li data-i18n="ollama_tut_config_same"><strong>Same device (Mac):</strong> <code>http://localhost:11434</code></li>
        <li data-i18n="ollama_tut_config_network"><strong>Over network:</strong> <code>http://YOUR_COMPUTER_IP:11434</code></li>
      </ul>
      <p data-i18n="ollama_tut_config_ip">
        Find your computer's IP address in System Settings ‚Üí Network (on Mac) or <code>ipconfig</code> (on Windows).
      </p>
      <p data-i18n="ollama_tut_config_model">
        Then select your downloaded model from the model list in OCRBook.
      </p>

      <!-- Troubleshooting -->
      <h3>
        <span class="step-num">7</span>
        <span data-i18n="ollama_tut_trouble_title">Troubleshooting</span>
      </h3>
      <ul>
        <li data-i18n="ollama_tut_trouble_1"><strong>Can't connect:</strong> Check that Ollama is running and your firewall allows port 11434.</li>
        <li data-i18n="ollama_tut_trouble_2"><strong>Slow responses:</strong> Try a smaller model or close other apps to free up RAM.</li>
        <li data-i18n="ollama_tut_trouble_3"><strong>Model not listed:</strong> Make sure you've pulled the model with <code>ollama pull [model]</code>.</li>
        <li data-i18n="ollama_tut_trouble_4"><strong>iOS can't connect:</strong> Ensure both devices are on the same Wi-Fi and OLLAMA_HOST is set to 0.0.0.0.</li>
      </ul>

      <a href="./index.html" class="back-link">
        <span>‚Üê</span>
        <span data-i18n="ollama_tut_back">Back to Home</span>
      </a>
    </main>

    <footer>
      <div>¬© <span id="year"></span> OCRBook. J-Apps. <span data-i18n="footer_rights">All rights reserved.</span></div>
    </footer>
  </div>

  <script>document.getElementById("year").textContent = new Date().getFullYear();</script>
  <script src="./i18n.js"></script>
</body>
</html>
